const { configEnv } = require('./config');

const { createAlchemyWeb3 } = require("@alch/alchemy-web3");

//should be alchemy url
const web3 = createAlchemyWeb3(configEnv.rpc_url);


const fs = require('fs');

var tokenjson = [{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"_weth","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"userAddress","type":"address"},{"indexed":false,"internalType":"address payable","name":"relayerAddress","type":"address"},{"indexed":false,"internalType":"bytes","name":"functionSignature","type":"bytes"}],"name":"MetaTransactionExecuted","type":"event"},{"inputs":[{"internalType":"address","name":"_newModerator","type":"address"}],"name":"AddModerator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_newOwner","type":"address"}],"name":"ChangeOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"ERC712_VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"Kill","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"enum EthermonEnum.ArrayType","name":"_type","type":"uint8"},{"internalType":"uint64","name":"_id","type":"uint64"},{"internalType":"uint8","name":"_value","type":"uint8"}],"name":"addElementToArrayType","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_trainer","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"addExtraBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_trainer","type":"address"},{"internalType":"uint64","name":"_monsterId","type":"uint64"}],"name":"addMonsterIdMapping","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint32","name":"_classId","type":"uint32"},{"internalType":"address","name":"_trainer","type":"address"},{"internalType":"string","name":"_name","type":"string"}],"name":"addMonsterObj","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint64","name":"_monsterId","type":"uint64"}],"name":"clearMonsterReturnBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_trainer","type":"address"}],"name":"collectAllReturnBalance","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint64","name":"_objId","type":"uint64"},{"internalType":"uint32","name":"amount","type":"uint32"}],"name":"decreaseMonsterExp","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_trainer","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"deductExtraBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"depositEth","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"},{"internalType":"bytes","name":"functionSignature","type":"bytes"},{"internalType":"bytes32","name":"sigR","type":"bytes32"},{"internalType":"bytes32","name":"sigS","type":"bytes32"},{"internalType":"uint8","name":"sigV","type":"uint8"}],"name":"executeMetaTransaction","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"getDomainSeperator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"enum EthermonEnum.ArrayType","name":"_type","type":"uint8"},{"internalType":"uint64","name":"_id","type":"uint64"},{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getElementInArrayType","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_trainer","type":"address"}],"name":"getExpectedBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_trainer","type":"address"}],"name":"getExtraBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint32","name":"_classId","type":"uint32"}],"name":"getMonsterClass","outputs":[{"internalType":"uint32","name":"classId","type":"uint32"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"returnPrice","type":"uint256"},{"internalType":"uint32","name":"total","type":"uint32"},{"internalType":"bool","name":"catchable","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_trainer","type":"address"}],"name":"getMonsterDexSize","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint64","name":"_objId","type":"uint64"}],"name":"getMonsterName","outputs":[{"internalType":"string","name":"name","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint64","name":"_objId","type":"uint64"}],"name":"getMonsterObj","outputs":[{"internalType":"uint64","name":"objId","type":"uint64"},{"internalType":"uint32","name":"classId","type":"uint32"},{"internalType":"address","name":"trainer","type":"address"},{"internalType":"uint32","name":"exp","type":"uint32"},{"internalType":"uint32","name":"createIndex","type":"uint32"},{"internalType":"uint32","name":"lastClaimIndex","type":"uint32"},{"internalType":"uint256","name":"createTime","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_trainer","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getMonsterObjId","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint64","name":"_objId","type":"uint64"}],"name":"getMonsterReturn","outputs":[{"internalType":"uint256","name":"current","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getNonce","outputs":[{"internalType":"uint256","name":"nonce","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"enum EthermonEnum.ArrayType","name":"_type","type":"uint8"},{"internalType":"uint64","name":"_id","type":"uint64"}],"name":"getSizeArrayType","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint64","name":"_objId","type":"uint64"},{"internalType":"uint32","name":"amount","type":"uint32"}],"name":"increaseMonsterExp","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isMaintaining","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"moderators","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint32","name":"","type":"uint32"}],"name":"monsterClass","outputs":[{"internalType":"uint32","name":"classId","type":"uint32"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"returnPrice","type":"uint256"},{"internalType":"uint32","name":"total","type":"uint32"},{"internalType":"bool","name":"catchable","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint64","name":"","type":"uint64"}],"name":"monsterWorld","outputs":[{"internalType":"uint64","name":"monsterId","type":"uint64"},{"internalType":"uint32","name":"classId","type":"uint32"},{"internalType":"address","name":"trainer","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint32","name":"exp","type":"uint32"},{"internalType":"uint32","name":"createIndex","type":"uint32"},{"internalType":"uint32","name":"lastClaimIndex","type":"uint32"},{"internalType":"uint256","name":"createTime","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_trainer","type":"address"},{"internalType":"uint64","name":"_monsterId","type":"uint64"}],"name":"removeMonsterIdMapping","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_trainer","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"setExtraBalance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint32","name":"_classId","type":"uint32"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"uint256","name":"_returnPrice","type":"uint256"},{"internalType":"bool","name":"_catchable","type":"bool"}],"name":"setMonsterClass","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint64","name":"_objId","type":"uint64"},{"internalType":"string","name":"_name","type":"string"},{"internalType":"uint32","name":"_exp","type":"uint32"},{"internalType":"uint32","name":"_createIndex","type":"uint32"},{"internalType":"uint32","name":"_lastClaimIndex","type":"uint32"}],"name":"setMonsterObj","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalClass","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalModerators","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalMonster","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"trainerDex","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"trainerExtraBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint64","name":"_monsterId","type":"uint64"}],"name":"transferMonster","outputs":[{"internalType":"enum EthermonEnum.ResultCode","name":"","type":"uint8"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"enum EthermonEnum.ArrayType","name":"_type","type":"uint8"},{"internalType":"uint64","name":"_id","type":"uint64"},{"internalType":"uint256","name":"_index","type":"uint256"},{"internalType":"uint8","name":"_value","type":"uint8"}],"name":"updateIndexOfArrayType","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"weth","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_sendTo","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"withdrawEther","outputs":[{"internalType":"enum EthermonEnum.ResultCode","name":"","type":"uint8"}],"stateMutability":"nonpayable","type":"function"}]




var tokencontract = '0x0f05607e51d5224300520a710898A8467d8d1117';



var sleep = require("sleep");

const privateKey=configEnv.private_key;
var i = 1


async function run(class_id, trainer_address, mon_name) {


   

    var tk = new web3.eth.Contract(tokenjson , tokencontract);


    var rand = await tk.methods.getElementInArrayType(2,234635,0).call({}, function (error, result) { });


    
    console.log(rand);
    
  

      

      

 

      
}

//module.exports = { run };
 run()


  // setInterval(function(){ 
  //   run()},5000);
  

